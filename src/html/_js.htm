<script src="js/app.min.js"></script>
<script src="https://unpkg.com/imask"></script>

<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js?_v=20220525145542"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-language/v0.10.1/mapbox-gl-language.js?_v=20220525145542"></script>

<script>
  mapboxgl.accessToken =
    "pk.eyJ1IjoiYWtvdCIsImEiOiJjbDNsY3VxbW0wNG1zM3BwbWl1cXkyNTU3In0.UH9GIgm6oCoeVokpYpvTyw";
  var map = new mapboxgl.Map({
    container: "map",
    style: "mapbox://styles/mapbox/dark-v9",
    center: [30.413075, 59.969871],
    zoom: 15,
  });
  mapboxgl.setRTLTextPlugin(
    "https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.1.0/mapbox-gl-rtl-text.js"
  );
  var mapboxLanguage = new MapboxLanguage({
    defaultLanguage: "ru",
  });

  map.addControl(mapboxLanguage);
  const places = {
    type: "FeatureCollection",
    features: [
      {
        type: "Feature",
        properties: {
          description: "Gaming Setup",
          icon: "marker-15",
        },
        geometry: {
          type: "Point",
          coordinates: [30.413075, 59.969871],
        },
      },
    ],
  };

  map.on("load", () => {
    // Add a GeoJSON source containing place coordinates and information.
    map.addSource("places", {
      type: "geojson",
      data: places,
    });

    map.addLayer({
      id: "poi-labels",
      type: "symbol",
      source: "places",
      layout: {
        "text-field": ["get", "description"],
        "text-variable-anchor": ["top", "bottom", "left", "right"],
        "text-radial-offset": 0.5,
        "text-justify": "auto",
        "icon-image": ["get", "icon"],
      },
    });

    map.rotateTo(180, {
      duration: 10000,
    });
  });
</script>
